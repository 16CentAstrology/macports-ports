# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           python 1.0
PortGroup           github 1.0

github.setup        jorisroovers gitlint 0.19.0 v
revision            0
categories-prepend  devel
license             MIT
supported_archs     noarch
platforms           {darwin any}

python.default_version \
                    311
python.pep517_backend \
                    hatch

maintainers         {@harens harens} openmaintainer

description         Linting for your git commit messages
long_description    Git commit message linter written in Python. \
                    Checks your commit messages for style.

homepage            https://jorisroovers.com/gitlint/

checksums           rmd160  939a523cbd2b3309c3eec32d7a86f6e2103c5534 \
                    sha256  97d5d65a39f40d72f82545134e89949ea17d3845415bea7ce3c465b93a1ef2f2 \
                    size    35480

# hatch seems to require a git directory
# error: "Most other sources (such as GitHub's tarballs, a git checkout 
# without the .git folder) don't contain the necessary metadata and will not work"
fetch.type          git
pre-build {
    set worksrcpath ${worksrcpath}/gitlint-core
}

depends_build-append \
                    port:py${python.version}-hatch-vcs

depends_run-append \
                    port:py${python.version}-arrow \
                    port:py${python.version}-click \
                    port:py${python.version}-sh
