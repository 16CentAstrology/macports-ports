# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0

name                    gawkextlib
categories              lang textproc
maintainers             {ryandesign @ryandesign} openmaintainer
license                 GPL-3+

homepage                http://gawkextlib.sourceforge.net
master_sites            sourceforge:project/gawkextlib

depends_lib-append      port:gawk \
                        port:gettext-runtime

configure.args-append   --with-gawk=${prefix}

test.run                yes
test.target             check

if {${subport} eq ${name}} {
    version             1.0.4
    revision            0
    checksums           rmd160  aa5dc9fb36b03670496119fca9733ccdb33a35fa \
                        sha256  ecd06c1857f58530f73866dffb74a32f17d1194c045f351b5ab8acad4f77678c \
                        size    352608

    description         extension library for gawk

    long_description    Formerly an experimental fork of gawk called \
                        xgawk, ${name} provides a library containing \
                        some gawk extension API additions useful for \
                        writing gawk extensions, and its subports \
                        offer several extensions that enhance the \
                        functionality of gawk.
} else {
    set extension       [string range ${subport} 5 end]
    homepage            ${homepage}/${extension}/${extension}.html

    description         ${extension} extension for gawk

    long_description    {*}${description}
}

distname                ${subport}-${version}

livecheck.regex         /${subport}-(\\d+(?:\\.\\d+)*)
