# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           cmake 1.1

# Until a new release is published under the 3-clause BSD license, we have to
# track the development branch; as of this writing, the last stable
# release (4.5.1) was made under the previous, restricted-use license.
name                vampire
github.setup        vprover vampire 1f1a9d99e4f6ca018dc3e9af05c49fb1d337a9bd
version             2021-08-04
categories          math science
platforms           darwin freebsd
maintainers         {landonf @landonf} openmaintainer
description         Vampire Theorem Prover
long_description    High performance automated theorem prover.

checksums           rmd160  7677185d5ee171a84f52bf84e9047244d899910d \
                    sha256  050eb27fb173f5e5c53b1e02aa5942002168e24e40b1964f242cee25c8a623be \
                    size    1497942

# Vampire is BSD-licensed, embedded minisat is MIT-licensed
license             BSD MIT

github.tarball_from archive

patchfiles          patch-CMakeLists.txt.diff

cmake.build_type    Release
cmake.generator     Ninja

configure.args      -DIPO=ON

destroot {
    xinstall -d -m 755 "${destroot}${cmake.install_prefix}/bin"
    xinstall -m 755 "${cmake.build_dir}/bin/vampire" "${destroot}${cmake.install_prefix}/bin/vampire" 
}
