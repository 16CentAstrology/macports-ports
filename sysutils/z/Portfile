# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

name                z
categories          sysutils
maintainers         {gmail.com:herby.gillot @herbygillot} \
                    openmaintainer
description         Tracks most-used directories to make cd smarter
long_description    ${name} is a shell utility for navigating most-used \
                    directories.
platforms           any
license             WTFPL-2
supported_archs     noarch

if {${name} eq ${subport}} {
   github.setup       rupa z 1.12 v
   github.tarball_from archive
   revision           0

   checksums          rmd160  5cc644be40fae167ffe59afed583f265ea806dfc \
                      sha256  7d8695f2f5af6805f0db231e6ed571899b8b375936a8bfca81a522b7082b574e \
                      size    6413

   conflicts          z-devel
}

subport z-devel {
   github.setup       rupa z 9d5a3fe0407101e2443499e4b95bca33f7a9a9ca
   version            20180810
   revision           0

   checksums          rmd160  bcf75ba6af08a3883f9a70c9a433ae456cfce427 \
                      sha256  fc82ffe3bbf6535cad08cb7b77481c1e6b1eec974f3c3dd4dbc7a69187e50e36 \
                      size    5940

   conflicts          z
}

use_configure       no

build {}

destroot {
    xinstall -d ${destroot}${prefix}/etc/profile.d/
    xinstall -m 0644 ${worksrcpath}/z.sh ${destroot}${prefix}/etc/profile.d/
    xinstall -m 0444 ${worksrcpath}/z.1 ${destroot}${prefix}/share/man/man1/
}

notes "
To use z for bash or zsh, put something like this in your .bashrc or .zshrc:

. ${prefix}/etc/profile.d/z.sh

cd around for a while to build up the db.
"
